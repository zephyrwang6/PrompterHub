# PrompterHub 插件故障排除指南

## 常见问题解决方案

### 🔍 问题1：用户名显示错误或显示为"User"

**症状：**
- 插件显示用户名为"User"而不是真实昵称
- 用户信息不准确或缺失

**解决步骤：**

1. **立即解决 - 刷新登录状态**
   ```
   - 点击插件中的刷新按钮（🔄）
   - 点击"检查登录状态"按钮
   ```

2. **验证网站登录状态**
   ```
   - 访问 https://www.prompterhub.cn
   - 确认右上角显示您的头像和用户名
   - 如果未登录，请先登录网站
   ```

3. **检查用户资料设置**
   ```
   - 访问个人设置页面
   - 确保设置了用户昵称
   - 保存设置后等待同步
   ```

4. **强制重新认证**
   ```
   - 在网站上点击退出登录
   - 重新登录
   - 等待插件自动检测（约30秒）
   ```

### 📊 问题2：数据不加载或显示空白

**症状：**
- 标签页显示"正在加载..."后变为空白
- 显示"还没有创作内容"但实际有内容
- API 调用失败错误

**解决步骤：**

1. **检查基础连接**
   ```
   - 确保能访问 https://www.prompterhub.cn
   - 检查网络连接稳定性
   ```

2. **验证登录状态**
   ```
   - 在新标签页访问您的个人页面：https://www.prompterhub.cn/您的用户名
   - 确认能看到您的创作内容
   - 如果看不到，说明用户名可能不正确
   ```

3. **查看详细错误信息**
   ```
   - 右键点击插件侧边栏
   - 选择"检查"或"Inspect"
   - 查看 Console 标签中的错误信息
   ```

4. **常见错误及解决方案**
   ```
   错误：404 Not Found
   解决：用户名可能不正确，检查个人资料设置
   
   错误：401 Unauthorized  
   解决：认证过期，重新登录网站
   
   错误：网络错误
   解决：检查网络连接，稍后重试
   ```

### 🔄 问题3：登录状态不同步

**症状：**
- 网站已登录但插件显示未登录
- 插件状态与网站状态不一致

**解决步骤：**

1. **重置插件状态**
   ```
   - 关闭所有 PrompterHub 标签页
   - 重新打开网站并登录
   - 等待插件自动检测
   ```

2. **清除插件缓存**
   ```
   - 在 chrome://extensions/ 找到插件
   - 点击"重新加载"按钮
   - 或关闭侧边栏后重新打开
   ```

3. **检查浏览器权限**
   ```
   - 确保插件有权访问 PrompterHub.cn
   - 检查是否禁用了第三方 Cookie
   ```

### 💡 快速诊断方法

**步骤1：基础检查**
```
□ 访问 PrompterHub.cn 能正常打开
□ 网站右上角显示您的头像
□ 可以访问个人页面看到自己的内容
□ 浏览器允许弹窗和第三方 Cookie
```

**步骤2：插件检查**
```
□ 插件图标正常显示
□ 点击图标能打开弹窗
□ 侧边栏能正常打开
□ 没有显示错误消息
```

**步骤3：认证检查**
```
□ 插件显示正确的用户名
□ 三个标签页都能正常切换
□ 至少一个标签页有数据显示
□ 点击卡片能跳转到正确页面
```

### 🛠 高级故障排除

**查看详细日志：**
1. 右键插件侧边栏 → 检查
2. 查看 Console 标签
3. 寻找以下关键信息：
   - `"Found Supabase user:"` - 用户信息获取成功
   - `"API URL:"` - API 调用地址
   - `"API Error:"` - API 调用失败原因

**重置插件到初始状态：**
1. 访问 `chrome://extensions/`
2. 找到 PrompterHub 插件
3. 点击"详细信息"
4. 点击"重新加载"
5. 重新打开侧边栏

**完全重新安装：**
1. 在扩展程序页面删除插件
2. 重新下载插件文件
3. 重新加载已解压的扩展程序
4. 重新登录 PrompterHub 网站

### 📞 需要帮助？

如果以上方法都无法解决问题：

1. **收集以下信息：**
   - 浏览器版本
   - 操作系统版本  
   - 具体错误截图
   - Console 中的错误日志

2. **提供详细描述：**
   - 问题发生的具体步骤
   - 期望的结果 vs 实际结果
   - 是否是第一次使用插件

3. **联系方式：**
   - GitHub Issues
   - 或其他指定的技术支持渠道

---

**最常见的解决方案：刷新 + 重新登录**
大多数问题都可以通过点击插件的刷新按钮，然后在网站上重新登录来解决。 