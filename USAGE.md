# PrompterHub浏览器插件使用指南

## 功能概览

PrompterHub浏览器插件是一个强大的侧边栏工具，帮助您轻松管理和访问PrompterHub.cn上的内容。插件会自动检测您在PrompterHub网站的登录状态，并提供以下核心功能：

### 🔐 智能登录检测
- **自动状态同步**：实时检测PrompterHub.cn的登录状态
- **多标签页同步**：无论在哪个标签页登录，插件都会立即同步
- **登出检测**：自动检测用户登出并清除本地数据
- **手动刷新**：点击右上角🔄按钮手动检查登录状态

### 📝 我的创作
查看和管理您在PrompterHub上创作的所有提示词：

#### 卡片信息
- **标题**：显示提示词的完整标题
- **描述**：显示前100字符的描述预览
- **源标记**：
  - 🟦 AI：AI辅助创作的提示词
  - 🟩 导入：从外部导入的提示词
- **分类标签**：显示提示词的分类标签，支持11种主要分类：
  - 📝 内容创作
  - 🎨 设计创意
  - 💻 开发
  - 🎓 教育
  - 🏢 办公
  - 🧠 思维分析
  - 👤 个人提升
  - 🌐 翻译
  - 🩺 专业
  - 🎮 娱乐
  - 🏷️ 其他
- **统计信息**：
  - ❤️ 点赞数
  - 👁️ 查看数
  - 💬 评论数
- **作者信息**：创作者和创建日期

#### 交互功能
- **点击卡片**：跳转到提示词详情页面
- **点赞按钮**：直接在插件中为提示词点赞
- **响应式设计**：自适应不同屏幕尺寸

### ❤️ 我的点赞
查看您点赞过的所有提示词：

#### 特殊标识
- **点赞标记**：所有卡片的点赞按钮都显示为已激活状态（红心❤️）
- **点赞时间**：显示您点赞的时间
- **快速取消**：可以直接在插件中取消点赞

#### 数据同步
- 实时同步您在网站上的点赞行为
- 支持跨设备同步（基于账户）

### ⭐ 我的收藏
查看您收藏的所有模板：

#### 模板卡片设计
- **特殊边框**：金色左边框标识收藏状态
- **星级显示**：⭐ 显示模板的收藏数量
- **模板标签**：显示模板的分类和自定义标签
- **内容预览**：显示模板的前100字符内容
- **查看统计**：👁️ 显示模板查看次数

#### 模板交互
- **点击跳转**：点击卡片跳转到模板详情页
- **查看统计**：自动记录查看次数

## 详细使用流程

### 1. 初始设置

1. **安装插件**
   ```
   1. 打开Chrome浏览器
   2. 进入 chrome://extensions/
   3. 开启"开发者模式"
   4. 点击"加载已解压的扩展程序"
   5. 选择插件目录
   ```

2. **打开侧边栏**
   ```
   1. 点击地址栏旁的插件图标
   2. 选择"打开侧边栏"
   3. 侧边栏将固定在浏览器右侧
   ```

### 2. 登录流程

#### 方式一：通过插件登录
1. 在插件的登录面板中点击"登录"按钮
2. 将自动打开PrompterHub.cn登录页面
3. 完成登录后，插件会自动检测并同步状态

#### 方式二：网站直接登录
1. 直接访问https://www.prompterhub.cn
2. 使用网站正常登录流程
3. 插件会自动检测到登录状态并切换界面

### 3. 内容浏览

#### 卡片布局
- **单列布局**：适合侧边栏的窄屏设计
- **紧凑信息**：最重要的信息一目了然
- **悬停效果**：鼠标悬停时卡片高亮显示

#### 标签系统
- **主分类标签**：带图标的彩色标签，易于识别
- **自定义标签**：灰色标签，显示用户自定义内容
- **标签限制**：最多显示2个标签，超出部分显示"+N"

#### 统计信息
- **实时更新**：数据与网站保持同步
- **交互反馈**：点赞等操作有即时的视觉反馈
- **错误处理**：网络错误时显示重试选项

### 4. 高级功能

#### 状态同步
```javascript
// 插件监听多种事件确保状态同步：
- 页面加载完成
- 标签页切换
- URL变化
- 存储变化
- 用户交互事件
```

#### 认证检测方法
1. **DOM元素检测**：检查登录相关的页面元素
2. **Supabase Token**：检查认证令牌
3. **页面内容分析**：智能分析页面内容
4. **本地存储**：检查浏览器存储的认证信息
5. **API调用**：通过API验证用户状态

#### 登出处理
- **自动清理**：登出时自动清除本地数据
- **状态重置**：界面立即切换到登录状态
- **数据保护**：确保用户隐私安全

## 故障排除

### 常见问题

#### 1. 插件无法检测登录状态
**解决方案：**
- 点击右上角🔄刷新按钮
- 确保在PrompterHub.cn标签页中完成了登录
- 检查浏览器是否阻止了弹窗或跨域请求
- 尝试重新安装插件

#### 2. 卡片内容不显示
**可能原因：**
- 网络连接问题
- API服务临时不可用
- 认证令牌过期

**解决方案：**
- 检查网络连接
- 刷新插件状态
- 重新登录PrompterHub.cn
- 点击错误提示中的"重试"按钮

#### 3. 点赞功能无效
**检查项目：**
- 确保已正确登录
- 检查网络连接
- 确认提示词ID有效
- 查看控制台错误信息

#### 4. 标签页同步问题
**解决方案：**
- 确保所有PrompterHub标签页都已刷新
- 清除浏览器缓存
- 重启浏览器
- 检查插件权限设置

### 调试方法

#### 1. 查看插件日志
```
1. 右键点击侧边栏
2. 选择"检查"
3. 切换到Console标签
4. 查看详细的日志信息
```

#### 2. 检查网络请求
```
1. 打开开发者工具
2. 切换到Network标签
3. 筛选PrompterHub相关请求
4. 检查请求状态和响应
```

#### 3. 验证存储数据
```
1. 打开开发者工具
2. 切换到Application标签
3. 查看Local Storage
4. 检查userAuth相关数据
```

## 隐私与安全

### 数据处理
- **本地存储**：认证信息仅存储在本地浏览器
- **自动清理**：登出时自动清除所有本地数据
- **加密传输**：所有网络请求使用HTTPS加密
- **权限最小化**：插件仅请求必要的浏览器权限

### 权限说明
- `activeTab`：检测当前标签页的PrompterHub状态
- `storage`：存储用户认证信息
- `sidePanel`：提供侧边栏界面
- `tabs`：创建新标签页跳转到详情

### 安全建议
- 定期检查插件更新
- 不要在公共计算机上保持登录状态
- 发现异常行为立即重新安装插件

## 更新日志

### v2.0.0 - 增强版卡片设计
- ✅ 新增分类标签系统（11种主分类）
- ✅ 新增源标记（AI/导入）
- ✅ 新增点赞交互功能
- ✅ 新增模板收藏展示
- ✅ 优化卡片布局和视觉设计
- ✅ 改进响应式设计
- ✅ 增强错误处理机制

### v1.0.0 - 基础版本
- ✅ 登录状态检测
- ✅ 基础卡片展示
- ✅ 三个主要标签页
- ✅ 登出同步功能

## 技术支持

如需帮助或反馈问题，请：
1. 查看控制台日志信息
2. 记录重现步骤
3. 提供浏览器版本和插件版本
4. 联系PrompterHub技术支持

---

**注意**：本插件需要配合PrompterHub.cn网站使用，请确保网站服务正常运行。 